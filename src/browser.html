<!DOCTYPE html>
<html>
<head>
	<title></title>
	<link rel="stylesheet" type="text/css" href="chartist.min.css">
</head>
<body>
<script type="text/javascript">
	
	date = new Date();
	lastSevenDays = new Date().setDate(date.getDate()-7);
	let data1 = [];	  
	
	let url = `https://api.coincap.io/v2/assets/bitcoin/history?interval=h12&start=
			${new Date().setDate(new Date().getDate()-7)}&end=${new Date().getTime()}`;
	console.log(url);
	fetch(url)
		.then(response => {
			return response.json();
		})
		.then(response => {
			//console.log(response);
			let i =0;
			
			for(let item of response.data){
				price = Number(item.priceUsd);
				//console.log(price);
				//console.log(data1.length);
				data1.push(price);



			}

			var data = {
					  labels:[],
					  series: [data1]
					  
					};

					// Create a new line chart object where as first parameter we pass in a selector
					// that is resolving to our chart container element. The Second parameter
					// is the actual data object.
					new Chartist.Line('.ct-chart', data);

		}).catch(e => {
			console.log(e)
		});

		

			function draw(){
				var data = {
					  labels:[],
					  series: [data1]
					  
					};

					// Create a new line chart object where as first parameter we pass in a selector
					// that is resolving to our chart container element. The Second parameter
					// is the actual data object.
					new Chartist.Line('#ct-char', data);
				}

				

</script>

<div class="ct-chart" id="ct-char" onclick="draw()" style="width: 300px;height: 100px">hello</div>
<script src="chartist.min.js"></script>

</body>
</html>